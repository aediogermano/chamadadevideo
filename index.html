<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Carol - Chamada de V√≠deo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&display=swap" rel="stylesheet"/>
  <style>
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#000; color:#fff; }
    .glass { background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)); backdrop-filter: blur(8px); }
    .watermark {
      pointer-events: none;
      position: absolute; inset: 0; display: grid; place-items: center;
      color: rgba(255,255,255,0.06); font-weight:800; letter-spacing:.2em; font-size:5rem;
      user-select:none; text-align:center; mix-blend-mode: lighten;
    }
    .video-mirror { transform: scaleX(-1); }
    .cta-ws { background: linear-gradient(90deg,#25D366,#128C7E); color:#fff; }
  </style>
</head>
<body class="min-h-screen bg-black" data-phone="5511999999999">
  <!-- Modal aviso (obrigat√≥rio) -->
  <div id="modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-6">
    <div class="max-w-lg w-full glass rounded-2xl p-6 border border-white/10">
      <h1 class="text-2xl font-bold mb-2">AO VIVO AGORA ‚Äî Chamada com Carol</h1>
      <p class="text-white/80 text-sm leading-relaxed">
        Goze ao vivo comigo amor.
      </p>
      <label class="flex items-start gap-3 mt-4">
        <input id="consent" type="checkbox" class="mt-1 accent-pink-500">
        <span class="text-white/80 text-sm">Quero Gozar.</span>
      </label>
      <div class="mt-5 flex gap-3">
        <button id="enterDemo" class="flex-1 bg-pink-600 hover:bg-pink-500 transition rounded-xl py-3 font-semibold">Entrar ao vivo</button>
        <button id="leave" class="px-4 py-3 rounded-xl border border-white/20 hover:bg-white/5 transition">Sair</button>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="sticky top-0 z-20 border-b border-white/5 bg-black/60 backdrop-blur">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-xl bg-pink-600 grid place-items-center font-bold">BR</div>
        <div>
          <div class="font-bold">Carol ‚Äî Ao Vivo</div>
          <div id="status" class="text-xs text-white/60">Status: aguardando</div>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <div class="text-sm text-white/60">Tempo: <span id="timer">00:00</span></div>
        <button id="whatsappCta" class="ml-2 px-3 py-2 rounded-lg cta-ws text-sm font-semibold">Falar no WhatsApp</button>
      </div>
    </div>
  </header>

  <!-- Conte√∫do -->
  <main class="max-w-6xl mx-auto px-4 py-6 grid md:grid-cols-3 gap-6">
    <section class="md:col-span-2 relative rounded-2xl overflow-hidden border border-white/10 glass">
      <div class="absolute inset-0 watermark">Carol ‚Ä¢ AO VIVO</div>

      <!-- V√≠deo demo: troque src pelo seu arquivo -->
      <video id="remoteVideo" class="w-full aspect-video bg-black object-cover" autoplay muted playsinline loop>
        <source src="https://vimeo.com/1126429563" type="video/mp4">
        Seu navegador n√£o suporta v√≠deo.
      </video>

      <div class="absolute bottom-4 left-1/2 -translate-x-1/2">
        <div class="glass rounded-2xl px-4 py-2 border border-white/10 flex items-center gap-3">
          <button id="toggleMute" class="px-3 py-2 rounded-lg bg-white/10">Desmutar</button>
          <button id="endCall" class="px-3 py-2 rounded-lg bg-red-600">Encerrar Chamada</button>
          <div class="text-sm text-white/60">Carol est√° dispon√≠vel para voc√™</div>
        </div>
      </div>
    </section>

    <aside class="space-y-6">
      <div class="glass rounded-2xl p-4 border border-white/10">
        <div class="flex items-center justify-between mb-3">
          <h2 class="font-bold">Sua c√¢mera (opcional)</h2>
          <span id="camStatus" class="text-xs text-white/60">desligada</span>
        </div>
        <div class="relative rounded-xl overflow-hidden border border-white/10 bg-black">
          <video id="localVideo" class="w-full aspect-[4/3] object-cover video-mirror" autoplay muted playsinline></video>
          <div id="localOverlay" class="absolute inset-0 grid place-items-center text-xs text-white/60">C√¢mera desligada</div>
        </div>
        <div class="mt-3 flex gap-2">
          <button id="startCam" class="flex-1 bg-pink-600 rounded-lg py-2">Ligar c√¢mera</button>
          <button id="stopCam" class="flex-1 bg-white/5 rounded-lg py-2">Desligar</button>
        </div>
      </div>

      <div class="glass rounded-2xl border border-white/10 overflow-hidden">
        <div class="p-3 border-b border-white/10 font-semibold">Chat</div>
        <div id="chat" class="h-56 overflow-y-auto p-3 space-y-3 text-sm">
          <div class="text-white/60 text-center text-xs">Fala Comigo Amor</div>
        </div>
        <div class="p-3 flex gap-2 border-t border-white/10">
          <input id="chatInput" type="text" placeholder="Digite‚Ä¶" class="flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-2"/>
          <button id="sendMsg" class="bg-white/10 px-3 py-2 rounded-lg">Enviar</button>
        </div>
      </div>
    </aside>
  </main>

  <footer class="max-w-6xl mx-auto px-4 pb-8 text-white/50 text-xs">
    Aqui voc√™ realiza seus desejos ‚Äî Carol ao vivo.
  </footer>

  <script>
    // CONFIG: n√∫mero do WhatsApp (formato E.164 sem s√≠mbolos, ex: 5511999999999)
    const fallbackPhone = document.body.getAttribute('data-phone') || "5511999999999";

    // Modal
    const modal = document.getElementById('modal');
    const consent = document.getElementById('consent');
    document.getElementById('enterDemo').addEventListener('click', () => {
      if (!consent.checked) { alert('Marque Quero Gozar Para Prosseguir.'); return; }
      modal.style.display = 'none';
      startTimer();
      setStatus('Conectado');
    });
    document.getElementById('leave').addEventListener('click', () => { window.history.length>1?history.back():window.close(); });

    // Timer & status
    const statusEl = document.getElementById('status');
    const timerEl = document.getElementById('timer');
    let sec = 0, timerId = null;
    function startTimer(){ timerId = setInterval(()=>{ sec++; timerEl.textContent = formatTime(sec); },1000); }
    function formatTime(s){ const m=Math.floor(s/60).toString().padStart(2,'0'); const r=(s%60).toString().padStart(2,'0'); return `${m}:${r}`; }
    function setStatus(t){ statusEl.textContent = 'Status: ' + t; }

    // Remote video controls
    const remoteVideo = document.getElementById('remoteVideo');
    const toggleMute = document.getElementById('toggleMute');
    toggleMute.addEventListener('click', ()=> {
      remoteVideo.muted = !remoteVideo.muted;
      toggleMute.textContent = remoteVideo.muted ? 'Desmutar' : 'Mutar';
    });

    document.getElementById('endCall').addEventListener('click', ()=> {
      if (timerId) clearInterval(timerId);
      setStatus('Chamada encerrada');
      remoteVideo.pause();
      alert('Chamada encerrada.');
    });

    // WhatsApp CTA (abre em nova aba)
    document.getElementById('whatsappCta').addEventListener('click', ()=> {
      const messages = [
        'Oi, quero ver tudo üëã',
        'Ol√°! Vamos conversar?.',
        'Quero saber mais sobre.'
      ];
      const msg = messages[Math.floor(Math.random()*messages.length)];
      const phoneSanitized = String(fallbackPhone).replace(/\D/g,'');
      const final = phoneSanitized.length ? phoneSanitized : '5511999999999';
      const url = `https://wa.me/${final}?text=${encodeURIComponent(msg)}`;
      window.open(url, '_blank');
    });

    // Webcam local
    const localVideo = document.getElementById('localVideo');
    const localOverlay = document.getElementById('localOverlay');
    const startCam = document.getElementById('startCam');
    const stopCam = document.getElementById('stopCam');
    const camStatus = document.getElementById('camStatus');
    let localStream = null;
    async function enableCam(){
      try {
        localStream = await navigator.mediaDevices.getUserMedia({ video:true, audio:false });
        localVideo.srcObject = localStream;
        localOverlay.style.display = 'none';
        camStatus.textContent = 'ligada';
      } catch(e){ alert('N√£o foi poss√≠vel acessar a c√¢mera.'); }
    }
    function disableCam(){
      if(localStream){ localStream.getTracks().forEach(t=>t.stop()); localStream=null; }
      localVideo.srcObject = null;
      localOverlay.style.display = 'grid';
      camStatus.textContent = 'desligada';
    }
    startCam.addEventListener('click', enableCam);
    stopCam.addEventListener('click', disableCam);

    // Chat fake
    const chatBox = document.getElementById('chat');
    const chatInput = document.getElementById('chatInput');
    const sendBtn = document.getElementById('sendMsg');
    function pushMsg(text, me=false){
      const wrap = document.createElement('div');
      wrap.className = 'flex ' + (me ? 'justify-end' : 'justify-start');
      const bubble = document.createElement('div');
      bubble.className = 'max-w-[80%] px-3 py-2 rounded-xl text-sm ' + (me ? 'bg-pink-600' : 'bg-white/10');
      bubble.textContent = text;
      wrap.appendChild(bubble);
      chatBox.appendChild(wrap);
      chatBox.scrollTop = chatBox.scrollHeight;
    }
    setTimeout(()=>pushMsg('Oi bb‚Ä¶ tava lembrando de voc√™ hoje üòà'),1200);
    setTimeout(()=>pushMsg('C√™ sempre me trata diferente dos outros‚Ä¶ eu gosto disso ü•∫'),2800);
    setTimeout(()=>pushMsg('Queria te mostrar uma coisa que eu comprei hoje‚Ä¶ mas s√≥ se prometer que vai se comportar hehe'),1200);
    setTimeout(()=>pushMsg('T√¥ ligando a cam, fica s√≥ pra voc√™‚Ä¶ n√£o salva, hein? üòè'),1200);
    setTimeout(()=>pushMsg('T√° gostando, safadinho? Vem brincar comigo aqui‚Ä¶ mas antes, me mostra que vale a pena continuar üòò'),1200);
    sendBtn.addEventListener('click', ()=>{ const v=chatInput.value.trim(); if(!v) return; pushMsg(v,true); chatInput.value=''; setTimeout(()=>pushMsg('Resposta autom√°tica (DEMO).'),800); });
    chatInput.addEventListener('keydown', e=>{ if(e.key==='Enter') sendBtn.click(); });
  </script>
</body>
</html>



